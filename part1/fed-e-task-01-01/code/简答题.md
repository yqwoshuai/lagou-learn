## 简答题

#### 谈谈你是如何理解 JS 异步编程的，EventLoop、消息队列都是做什么的，什么是宏任务，什么是微任务？

**答:**

JS 异步编程：
JS 是单线程运行机制，也就是说多个任务需要排队依次执行，某个任务耗时过长的话就会造成页面卡顿，所以可以使用异步的模式，让 JS 代码不用等待某些代码执行结束才开始执行。可以用回调函数，Promise，Generator，Async/Await 等方式来实现异步编程。

EventLoop：
JS 代码执行时会将代码放入调用栈中执行，执行完成后弹出调用栈，异步的任务会放入消息队列中等待，等到调用栈中的代码执行结束后，EventLoop 就会从消息队列中依次取出代码进入调用栈执行。这个不断循环的运行机制就叫 EventLoop。

消息队列：
消息队列就是用来存储异步任务的地方，同步代码执行完毕以后，event loop 会从消息队列中依次取出异步任务放到调用栈中再次执行。

宏任务:
每次调用栈执行代码就是一次宏任务，像 script，setTimeout，setInterval，postMessage，MessageChannel 等

微任务：
在宏任务执行的过程中可能会产生一些微任务，每次执行完宏任务后，将会执行本次宏任务所产生的所有微任务，执行结束后才会开启下一轮的事件循环。常见的微任务有 Promise.then、Object.observe、MutaionObserver 等
